# 行程設定功能說明

## 功能概述

現在管理員可以設定行程的出發日期和邀請碼，這些設定會自動應用到整個應用程式中。

## 設定步驟

### 1. 執行資料庫遷移

在 Supabase SQL Editor 中執行以下 SQL 腳本：

```sql
-- 執行 supabase/migration_add_trip_settings.sql
```

這個腳本會：
- 創建 `trip_settings` 表
- 插入預設的出發日期（2025-10-10）和邀請碼（WL4SHOW）
- 設定 RLS 政策（所有人都可以讀取，只有管理員可以更新）

### 2. 設定出發日期和邀請碼

1. 以管理員身份登入
2. 前往「設定」頁面（底部導航欄）
3. 在「行程設定」區塊中：
   - **出發日期**：選擇或輸入出發日期（格式：YYYY-MM-DD）
   - **團隊邀請碼**：輸入團隊邀請碼（例如：WL4SHOW）
4. 點擊「儲存設定」按鈕

### 3. 功能說明

#### 出發日期
- 設定後，倒數計時器會自動更新
- 所有用戶看到的倒數天數都會根據這個日期計算
- 日期格式必須為：YYYY-MM-DD（例如：2025-10-10）

#### 邀請碼
- 用於生成邀請鏈接
- 用戶可以通過邀請鏈接加入團隊
- 邀請鏈接格式：`https://your-domain.com/invite/[邀請碼]`

## 邀請功能使用說明

### 對於管理員/團隊成員：

1. **查看邀請碼和鏈接**
   - 在首頁的「邀請隊友」區塊中可以看到邀請碼和完整的邀請鏈接

2. **複製邀請碼**
   - 點擊「複製代碼」按鈕可以複製邀請碼（例如：#WL4SHOW）

3. **複製邀請鏈接**
   - 點擊鏈接旁邊的複製圖標可以複製完整的邀請鏈接

4. **分享邀請**
   - 如果瀏覽器支援 Web Share API，會顯示分享按鈕
   - 點擊分享按鈕可以通過系統分享功能分享邀請

### 對於被邀請者：

1. **通過邀請鏈接加入**
   - 點擊邀請鏈接（例如：`https://your-domain.com/invite/WL4SHOW`）
   - 如果未登入，會看到登入/註冊頁面
   - 登入後會自動驗證邀請碼並加入團隊

2. **通過邀請碼加入**
   - 訪問首頁
   - 點擊「登入」或「註冊」
   - 系統會自動驗證邀請碼（如果有的話）

## 注意事項

- 只有管理員可以修改行程設定
- 邀請碼不區分大小寫
- 邀請鏈接會自動驗證邀請碼的有效性
- 如果邀請碼無效，會顯示錯誤訊息

